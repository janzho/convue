import{o as a,c as n,a as s}from"./app.79936fe0.js";const t='{"title":"中间件","description":"","frontmatter":{},"headers":[{"level":2,"title":"参数","slug":"参数"}],"relativePath":"zh/guide/middleware.md","lastUpdated":1613803139662}',e={},p=s('<h1 id="中间件"><a class="header-anchor" href="#中间件" aria-hidden="true">#</a> 中间件</h1><p>convue 默认会加载 /src/middleware 目录下的 .ts | .js 文件，并且在路由全局的前置钩子中执行。</p><p>比如编写一个 auth 的中间件</p><div class="language-js"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> redirect<span class="token punctuation">,</span> store <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>isLogined<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">&#39;/login&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre></div><h2 id="参数"><a class="header-anchor" href="#参数" aria-hidden="true">#</a> 参数</h2><ul><li>query: 当前路由的 query 参数</li><li>params: 当前路由的 params 参数</li><li>route: 当前路由的信息</li><li>redirect: 重定向函数，接受一个 url 作为参数</li><li>store: 全局状态访问</li><li>app: 当前 vue 实例</li><li>env: 环境变量列表</li></ul><p>其他规则请<a href="/convue/zh/config/page.html">参考 page 配置项</a>。</p>',7);e.render=function(s,t,e,o,c,l){return a(),n("div",null,[p])};export default e;export{t as __pageData};
